#! /bin/csh -f

############################################################

# This file is just to get the path, etc., set up right to run check_jspop
# from cron.

# $Id$

############################################################

set path = ( /usr/ucb /bin /p/devise/run $path )

set outfile = /tmp/run_check_soil.out

if (-e $outfile) then
    rm $outfile
endif

./check_jspop soil >& $outfile

# All this garbage because Sun's current crond on Intel/Solaris won't
# send mail correctly.
if (-e $outfile && ! -z $outfile) then
    cat $outfile | /usr/ucb/mail -s "Error message from check_jspop soil" `whoami`
endif

/usr/ucb/touch /tmp/soil_js_check
