#! /bin/csh -f

#  ========================================================================
#  DEVise Data Visualization Software
#  (c) Copyright 2001
#  By the DEVise Development Group
#  Madison, Wisconsin
#  All Rights Reserved.
#  ========================================================================
#
#  Under no circumstances is this software to be copied, distributed,
#  or altered in any way without prior permission from the DEVise
#  Development Group.

#  Run this script to set up the distribution area.

############################################################

#  $Id$

############################################################

if ($#argv != 2) then
  echo "Usage: setup <base_dir> <html_dir>"
  exit 1
endif

set base_dir = $1
set html_dir = $2

set dist_home = `pwd`

if (`hostname` != trigger) then
  echo "Setup must be done on trigger"
  exit 1
endif

ln -s $base_dir dist_sw
ln -s $html_dir .

cd common
./setup
cd ..

# echo "Creating hpux-hppa directory"
# setenv ARCH_DIR hp700_ux90
# mkdir hpux-hppa
# cd hpux-hppa
# ../scripts/setup.arch_common
# cd ..

echo "Creating solaris-intel directory"
setenv ARCH_DIR sunx86_54
cd solaris-intel
./setup
cd ..

echo "Creating solaris-sparc directory"
setenv ARCH_DIR sun4m_54
cd solaris-sparc
./setup
cd ..

# echo "Creating sunos-sparc directory"
# setenv ARCH_DIR sun4m_412
# mkdir sunos-sparc
# cd sunos-sparc
# ../scripts/setup.arch_common
# cd ..

echo "Creating linux-intel directory"
setenv ARCH_DIR i386_linux
cd linux-intel
./setup
cd ..

echo "Creating JavaScreen directory"
set logfile = $dist_home/JavaScreen_create.log
if (-f $logfile) then
  rm $logfile
endif
mkdir JavaScreen
set js_src = $base_dir/JavaScreen
cd JavaScreen
tar cX $dist_home/scripts/tar_js_exclude --directory=$js_src . | tar xv \
    > $logfile
cd ..
