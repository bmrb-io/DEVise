#!/bin/csh -f
#=========================================================================
# Script to automatically update the visual filter of the given view in
# the given session to its 'home' value.

# $Id$

#=========================================================================

if ($#argv != 2) then
  echo "Usage: update_filter <session> <view>"
  echo "Note: session must be full absolute path of session file"
else
  set session = $1
  set view = "$2"

  set batchfile = /tmp/update_filter.batch
  \rm $batchfile
  touch $batchfile
  echo "DEVise viewGoHome {$view}" >> $batchfile
  echo "DEVise saveSession $session 0 0 0" >> $batchfile
  echo "DEVise exit" >> $batchfile

  /p/devise/run/devise -session $session -batch $batchfile

  #\rm $batchfile
endif
