			Peptide-CGI Version History


Peptide-CGI 11.4.0
------------------
(Needs DEVise 1.9.0 or higher, JavaScreen client 5.9.3 or higher.)

* Fixed a number of problems visualizing entries with multiple
entities (especially highlighting in 3D visualizations not working).
(See bugs 037, 038.)

* Fixed bugs 070 and 075 (problems with percent assignment values
sometimes being greater than 100% for NMR-STAR 3.1 files).


Peptide-CGI 11.3.3
------------------
(Needs DEVise 1.9.0 or higher, JavaScreen client 5.9.2 or higher.)

* Fixed bug 068 (missing highlights in data view of 3D visualization).

* Fixed bug 069 (problem with entries that don't have any ambiguity
codes).

* Fixed bug 067 (bad last line of H vs N data).

* Fixed disabled action settings in a number of visualizations views
(to prevent users from getting the visualizations into an unusable state).

* Dealt with to-do 076 ("no Java" warnings in html pages).


Peptide-CGI 11.3.2
------------------
(Needs DEVise 1.9.0 or higher, JavaScreen client 5.9.2 or higher.)

* Fixed bug 061 (data selection text too small in 3D visualizations for
entries with many data sources).


Peptide-CGI 11.3.1
------------------
(Needs DEVise 1.9.0 or higher, JavaScreen client 5.9.1 or higher.)

* Added S2 order parameter visualization.

* Changed order of data sets in the summary page.

* Added "no data available" sections to the summary page so users
don't get confused by "missing" data.

* Added mailto link to the summary page.

* We no longer generate figure of merit or ambiguity code visualizations
if the values are all null.

* Reversed the order of data sets in the data selection view of
3D visualizations (more closely matches the summary page).

* Added the option to explicitly call the garbage collector a number
of times during processing.

* Updated configuration file for new Florence server.


Peptide-CGI 11.3.0
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* New visualization summary page that's much more compact.


Peptide-CGI 11.2.6
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Changed histogram web pages to match previous changes to individual
visualization templates -- centered applet, increased size of mailto
links.

* Fixed errors in the DNA histogram links.

* Fixed reference for LACS in visualization help page.

* Added config file for new Osaka server.


Peptide-CGI 11.2.5.1
--------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Now building starlibj from source so I can compile it with a Java
1.3 target.


Peptide-CGI 11.2.5
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Updated to a new version of starlibj that fixes a parsing bug, added
a corresponding test.

* Made some changes to the html templates -- centered applet, increased
size of mailto links.

* Added frame details to individual visualization pages; spelled out
Linear Analysis of Chemical Shifts.


Peptide-CGI 11.2.4
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Removed all shift-click references from html pages, and replaced
them with references to the toolbar drill-down mode.

* Removed keyboard shortcut links from all web pages and templates (no
longer needed because of new JavaScreen help).



Peptide-CGI 11.2.3
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Greatly improved the view help in all visualizations.


Peptide-CGI 11.2.2
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Fixed a bug (DEVise bug 956/Peptide-CGI bug 059) that caused the cursor
in the data view to not always be updated correctly on changes to the
cursor in the data scroll view.  (The cursor in the data view is now
constrained to always be entirely within the data view.)

* Improved ChemShiftRef error messages; ChemShift calculation failing
is no longer considered an error at the top level of the program.

* Some cache checking output is now printed at a lower verbosity setting.


Peptide-CGI 11.2.1
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Added DNA histograms.


Peptide-CGI 11.2.0
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Added RNA histograms.

* Updated histogram html files to have colors and fonts matching the rest
of the BMRB web site.

* Disabled actions in some views in the histogram visualizations for which
actions could cause problems.

* Made histogram bars narrower to avoid overlaps.

* Moved the histogram html pages, sessions, and schemas into Peptide-CGI.

* Replaced all test NMR-STAR 3.1 files with the latest versions,
changed test_all accordingly (because this fixes earlier problems).

* Improved some other tests.

* We now print all input parameters at verbosity level 1 instead of 2.

* Added more 3.1 vs. 2.1 tests.


Peptide-CGI 11.1.5
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Peptide-CGI-generated html files now use the standard BMRB stylesheet;
also specified matching background and font colors for use at CS where
the stylesheet is not available.

* Peptide-CGI now looks for Comp_index_ID tags instead of Seq_ID tags
in NMR-STAR v3.1 files.

* More flexibility in getting chem shift entity ID values: we look for
_Atom_chem_shift.Entity_assembly_ID if _Atom_chem_shift.Entity_ID is
not found and change "?" to "1" in the values.

* We now allow single-letter residue codes in chemical shift loops,
etc.

* Removed automatic setting of CSR level and LACS level in uvd 
(visualization server) mode, so we don't get non-working CSR
links at Florence.

* Added more tests to make sure that NMR-STAR v3.1 files are processed
correctly.

* Got rid of "marlin" system name in BMRB configuration -- CGI script
will now redirect to www.bmrb.wisc.edu.

* Added bmrb_mirror.verbosity and bmrb_mirror.debug_level settings to
the props file so S2DMain doesn't complain about not finding them, and
it's obvious what to change if you want to turn them on.

* Added more debug output, better control of what is printed.

* Install script won't run if you haven't done 'make setup' first.


Peptide-CGI 11.1.4
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Removed java memory specifications from scripts which seems to make
Peptide-CGI work properly on marlin.

* Fixed an error in the florence configuration file.

* Added -verb command-line flag and verbosity property, and debug_level
property.


Peptide-CGI 11.1.3
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* All generated html files now reference Jmol.jar (this seems to be
required by some recent JVMs).


Peptide-CGI 11.1.2
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Added LACS capability to visualization server support.

* Incorporated a new version of starlibj.

* Simplified visualization server error messages.

* Regular installation now also does visualization server installation.

* Got rid of blank title in visualization server summary page.

* Fixed help file links in visualization server pages.

* Removed angle brackets from diagnostic output to avoid problems in html.

* Fixed a bug in the make_uvd script that prevented errors in the
"upload and visualize data" processing from getting correctly sent
back to the web browser.

* Fixed "upload and visualize data" configuration for BMRB and mirrors.

* Various other configuration fixes.

* Added more tests for the "upload and visualize data" feature.


Peptide-CGI 11.1.1
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Added support for the "upload and visualize data" setup.


Peptide-CGI 11.1.0
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Modified Peptide-CGI so that ChemShift can use various S2D classes
to correctly parse NMR-STAR files.

* Updated Peptide-CGI to work with NMR-STAR 3.1 files and added
corresponding tests.

* Improved various tests.

* Added testing and release documents.


Peptide-CGI 11.0.2
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Fixed a bug in the chem shift reference 1 visualization that caused
the average and tolerance bars to be drawn at the wrong location.

* Increased JVM memory to 512m because that's what it took to get 6011/
1RJJ coordinate vis processing to work at BMRB (marlin); added test37,
which tests 6011.

* Added testing document, and reminders to distribution script.


Peptide-CGI 11.0.1
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* Updated coordinate visualization help to match new version with
Jmol and selection trees.

* Added a second summary HTML page that has direct links to all of
the large-size visualizations.

* Peptide-CGI version history is now included in the distribution
tarball.

* The distribution tarball now untars into a directory whose name
includes the version.


Peptide-CGI 11.0.0
------------------
(Needs DEVise/JavaScreen 1.9.0 or higher.)

* 3D structures are rendered with Jmol, which gives much more advanced
rendering and more options.

* The atoms and residues to be displayed in the 3D view are selected with
a tree GUI in a separate window, rather than by cursors in the DEVise
visualization itself.

* There is also a tree GUI that can override the DEVise cursor selection
of which residues are highlighted in the 3D view.

* Visualization info in ambiguity code, Pistachio, and LACS sessions
now rendered on the client side.

* Got rid of kludges in chemical shift reference sessions required
for pre-1.7.19 DEVise versions. 

* Fixed problems with some html page titles being based on the BMRB
ID rather than the name, etc.  Fixed test36 to work with new LACS
file names.

* Disabled appropriate actions in various views that should have already
had this done.



Peptide-CGI 10.9.2
------------------
(Needs DEVise/JavaScreen 1.7.18 or higher.)

* Peptide-CGI now gets mmCIF files from the production PDB http site
as opposed to the beta ftp site.

* Added the dev_test makefile target to enable easy running of DEVise on
the sessions generated by Peptide-CGI for testing (needs the proper
DEVise startup script as well).

* Removed the "go back" option from the help pages, since we
open them in a new browser window.

* Added Florence config file.

* Changed LACS filename template because Dave changed .out to .str
in the names.  (This change was manually patched onto 10.9.1 at
Madison and Osaka.)

* Improvements to debug and error messages.


Peptide-CGI 10.9.1
------------------
(Needs DEVise/JavaScreen 1.7.18 or higher.)

* Fixed some bugs in the chemical shift index calculations:
    - We now use the individual CSI values in the consensus CSI
      formula, instead of just rounding the deltashift values.
    - We now take ambiguity codes into account when handling the
      special case for GLY.
    - Corrected "standard" chem shift value for CB in CYS (we had
      been using CYS (red) value and we should be using the CYS (ox)
      value).

* A bunch of changes to the Pistachio visualization:
    - Improved color selection.
    - Adjusted font sizes and window sizes slightly in the Pistachio
      visualization.
    - Added titles to more views to clarify things;
    - Changed JS background color so inter-view borders show up
      (also for ambiguity visualization);
    - H -> "backbone proton" in data select view;
    - Changed color select view and color legend view;
    - Unknown -> unassigned in color legend;
    - Moved unassigned to right in color legend;
    - Y axis label in data view.

* Updated config for marlin and Osaka to have LACS setup.


Peptide-CGI 10.9.0
------------------
(Needs DEVise/JavaScreen 1.7.18 or higher.)

* Support for LACS visualizations.

* The user now has the choice of viewing the visualizations at a size
of 800x600 pixels (now the default) or 1024x768 pixels.


Peptide-CGI 10.8.3
------------------
(Needs DEVise/JavaScreen 1.7.18 or higher.)

* Fixed a couple of bugs in the atomic coordinate, ambiguity code, and
figure of merit visualizations:  in one, moving the data value
cursor sometimes incorrectly changed the Y axis range in that view;
in the other, home on the data value views worked incorrectly.

* Added config files for Osaka and Florence.

* Configuration to get things to work on the 64-bit machine at BMRB
(including increasing the maximum Java memory).

* Added more tests, fixed a problem with one of the existing tests.

* Better error messages if we retry because of running out of
memory.


Peptide-CGI 10.8.2
------------------
(Apparently not released.)


Peptide-CGI 10.8.1
------------------
(Needs DEVise/JavaScreen 1.7.18 or higher.)

* Ambiguity code and figure of merit visualizations now use 2D main
views (this speeds up the JavaScreen).

* Changed "Pistachio" to "assignment figure of merit" in
visualizations, etc.

* Added atom type legend to coordinate visualization.

* Added figure of merit visualization help; updated the help for the
atomic coordinate and ambiguity code visualizations to match recent
changes; added stuff about the info view to some other visualization
help pages.

* Updated NMR-STAR version test for latest 3.0 version string format.

* Updates to how we get PDB IDs from NMR-STAR 3.0 files.

* Added the capability of viewing unreleased entries (for annotators).


Peptide-CGI 10.8.0
------------------
(Needs DEVise/JavaScreen 1.7.18 or higher.)

* Major improvements to NMR-STAR 3.0 support -- chemical shifts for
multiple entities are now handled correctly.

* Changed Pistachio percentage calculation to be relative to the number
of atoms that actually exist in each amino acid, not just the number
we have figures of merit for.

* The Pistachio visualization now comes up with "Color by figure of
merit" selected (instead of "Color by atom type").

* Added -dev_version flag that gives the minimum required DEVise
version for the current version of Peptide-CGI.
