echo "Checking output files"

#TEMPTEMP -- I don't think we should get hn for NAs
set files = ( data_dir/15083ac1.dat \
	data_dir/15083ac2.dat \
	data_dir/15083am3.dat \
	data_dir/15083amac3.dat \
	data_dir/15083as1.dat \
	data_dir/15083as2.dat \
	data_dir/15083as3.dat \
	data_dir/15083c3.dat \
	data_dir/15083d1.dat \
	data_dir/15083d2.dat \
	data_dir/15083d3.dat \
	data_dir/15083hn1.dat \
	data_dir/15083hn2.dat \
	data_dir/15083hn3.dat \
	data_dir/15083md.dat \
	data_dir/15083p3.dat \
	data_dir/15083rc1.dat \
	data_dir/15083rc2.dat \
	data_dir/15083rc3.dat \
	data_dir/15083rl.dat \
	html_dir/15083ac1.html \
	html_dir/15083ac1_large.html \
	html_dir/15083ac2.html \
	html_dir/15083ac2_large.html \
	html_dir/15083am3.html \
	html_dir/15083am3_large.html \
	html_dir/15083as1.html \
	html_dir/15083as1_large.html \
	html_dir/15083as2.html \
	html_dir/15083as2_large.html \
	html_dir/15083as3.html \
	html_dir/15083as3_large.html \
	html_dir/15083c3.html \
	html_dir/15083c3_large.html \
	html_dir/15083d1.html \
	html_dir/15083d1_large.html \
	html_dir/15083d2.html \
	html_dir/15083d2_large.html \
	html_dir/15083d3.html \
	html_dir/15083d3_large.html \
	html_dir/15083hn3.html \
	html_dir/15083hn3_large.html \
	html_dir/15083p3.html \
	html_dir/15083p3_large.html \
	html_dir/15083y.html \
	html_dir/15083y_large.html \
	session_dir/15083ac1.ds \
	session_dir/15083ac2.ds \
	session_dir/15083acdd \
	session_dir/15083acdd \
	session_dir/15083am3.ds \
	session_dir/15083as1.ds \
	session_dir/15083as2.ds \
	session_dir/15083as3.ds \
	session_dir/15083c3.ds \
	session_dir/15083d1.ds \
	session_dir/15083d2.ds \
	session_dir/15083d3.ds \
	session_dir/15083hn3.ds \
	session_dir/15083p3.ds )

foreach file ($files)
  if (! -f $file) then
    echo "  Output file $file is missing"
    set result = 1
  endif
end

#TEMP -- manually check these values!
set file = "data_dir/15083am3.dat"
set line = "3 1 HIS 0.1764706 0.11764706 0.0 0.0 0.0 0.0"
source tests/check4line
set line = "3 63 ILE 0.7222222 0.0 0.0 0.0 0.0 0.0"
#TEMP -- 2.1 vs. 3.1 conflict source tests/check4line

set file = "data_dir/15083amac3.dat"
set line = "3 1 HIS H H -0.6 0.225 0 0 -0.15 0 backbone AMU -1"
source tests/check4line
set line = "3 63 ILE O O 4.6 -12.975 0 0 -0.15 0 backbone AMU -1"
source tests/check4line

set file = "data_dir/15083as1.dat"
set line = "1 1 DT H1' H 6.004"
source tests/check4line
set line = "1 14 DC H6 H 7.627"
source tests/check4line

set file = "data_dir/15083as3.dat"
set line = "3 1 HIS HA H 4.873"
source tests/check4line
set line = "3 63 ILE N N 129.466"
source tests/check4line

set file = "data_dir/15083c3.dat"
set line = "3 1 HIS 1 0 0 -1 1"
source tests/check4line
set line = "3 63 ILE 1 0 0 1 1"
source tests/check4line

set file = "data_dir/15083d1.dat"
set line = "1 1 DT 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.044 0.0 0.163 0.247 0.0 0.0 0.0 -0.058 -0.309 0.0 0.0 0.0 -0.149 0.0 0.257 0.0 0.0 0.189 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0"
source tests/check4line
set line = "1 14 DC 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.38 0.0 0.207 0.0 0.0 0.0 0.0 -0.134 -0.068 0.0 0.0 0.178 0.0 0.0 0.117 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0"
source tests/check4line

set file = "data_dir/15083d3.dat"
set line = "3 1 HIS 0.243 0.0 0.587 -0.987"
source tests/check4line
set line = "3 63 ILE 0.258 0.0 0.11 2.153"
source tests/check4line

set file = "data_dir/15083hn3.dat"
set line = "3 2 MET 8.677 122.255 H N"
source tests/check4line
set line = "3 63 ILE 7.747 129.466 H N"
source tests/check4line

set file = "data_dir/15083rl.dat"
set line = "1	1	DT"
source tests/check4line
set line = "3	63	ILE"
source tests/check4line

set file = "data_dir/15083ac1.dat"
set line = "1 1 1 DT O5' O -5.328 10.389 18.756 side_chains"
source tests/check4line
set line = "1969 3 63 ILE 3HD1 H 11.034 1.442 18.427 all_hydrogens"
source tests/check4line

set file = "data_dir/15083ac2.dat"
set line = "1 1 1 DT O5' O 7.554 -3.904 19.019 side_chains"
source tests/check4line
set line = "1861 3 63 ILE 3HD1 H 16.745 -3.199 6.486 all_hydrogens"
source tests/check4line

set file = "data_dir/15083md.dat"
set attr = '$H1_DeltaShift'
set line = "EA 1 (DNA)	1	H1 delta chem shift \[1\]	15083d1	$attr"
source tests/check4line
set attr = '$assigForN'
set line = "EA 3 (polypeptide(L))	3	% 15N assign per res \[3\]	15083p3	$attr"
source tests/check4line

set file = "session_dir/15083ac1.ds"
set line = 'DEVise dteInsertCatalogEntry . {"15083ac1" UNIXFILE 15083ac1.dat bmrb-jmol_atom_coord $DEVISE_SCHEMA/physical/bmrb-jmol_atom_coord "" 100 50 "$DEVISE_DAT/bmrb/dynamic_data" ""}'
source tests/check4line
set line = 'DEVise dteInsertCatalogEntry . {"15083d1" UNIXFILE 15083d1.dat bmrb-DNADeltaShift $DEVISE_SCHEMA/physical/bmrb-DNADeltaShift "" 100 50 "$DEVISE_DAT/bmrb/dynamic_data" ""}'
source tests/check4line
set line = 'DEVise setViewHelp {View 1} {Visualization of 15083 and PDB 2O8K generated by'
source tests/check4line
set line = 'DEVise create {mapping} {Label_text_vs_recId} .label .label#Label_text_vs_recId {} 0 0 {} 37 12 0 0 16 {"Visualization of 15083 and PDB 2O8K generated on'
source tests/check4line
