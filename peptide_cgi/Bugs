				Bugs in Peptide-CGI
				$Revision$

Num Date        Status  Description
--- --------    ------  -------------------------------------------------------
001 01/17/01	OPEN	4264 has two residue counts in different save frames;
			we don't deal with that correctly. (rkw)

002 01/17/01	FIXED	Need help for coupling constants. (rkw)
			(Fixed some time...)

003 09/21/01	OPEN	hxrates.base and order.base should be working
			session files. (rkw)

004 11/02/01	NLR	s2d can't find set_modes on yola (BMRB).  (./set_modes
			doesn't work, explicit full path does). (rkw)

005 5/14/02	NLR	Dimitri ran into a problem installing peptide-cgi
			on top of an earlier version on SPARC/Solaris
			(may be related to non-gnu make). (rkw)

006 6/5/02	FIXED	Chemical shift delta, chemical shift index, percent
			assigned sessions don't default to showing all
			residues. (rkw)
			(Fixed by rkw, 6/5/02.)

007 6/19/00	CD	When you zoom into the chemical shift distribution
			by amino acid table, then click onto another atom
			(say you zoomed in the C table, then click > to the
			N atom distribution), the vertical axis doesn't
			update properly. (ks/rkw)
			(Tested by rkw, 6/24/02.)

008 8/13/02	OPEN	For 4001, the structure from PDB 1QLK claims to have
			184 residues, but only 92 show up in the 3D
			visualization. (rkw)

009 8/20/02	OPEN	4001 has multiple save frames of chem shifts --
			causes problems with summary data for 4096-type
			3D visualizations. (rkw)

010 8/22/02	OPEN	Give a better error message if a garbage accession
			number is entered. (rkw)

011 10/31/02	NLR	On yola at BMRB, a Perl system() call totally
			fails if the Perl script is being run as a
			CGI.
			(Workaround by rkw, 10/31/02.)

012 10/31/02	FIXED	Errors in the s2d script -- it removes s2d.out
			rather than data_dir/s2d.out. (rkw)
			(Fixed by rkw, 10/31/02.)

013 10/31/02	FIXED	S2d fails if output files exist without write
			permission (even if we have write permission in
			the directory). (rkw)
			(Fixed by rkw, 11/1/02.)

014 10/31/02	OPEN	Doing a 'bmrb_test' installation overwrite the
			same schema files that are used by the 'real'
			installation. (rkw)

015 11/1/02	FIXED	CSI values aren't displayed correctly in 3D
			visualizations. (rkw)
			(Fixed by rkw, 11/1/02.)

016 11/1/02	OPEN	We end up with duplicate data source definitions in
			the 3D sessions (the same data source is redefined
			for all data types that use it).  This doesn't really
			seem to hurt anything, but it's not ideal. (rkw)

017 11/1/02	OPEN	We should disallow having both the -pdbid and the
			-do_pdb arguments specified. (rkw)

018 3/18/03	OPEN	Atomic coordinate sessions all reference some 4096
			data sources(!). (wenger)

019 3/18/03	FIXED	Atomic coordinate sessions fail for all entries other
			than 4096 because they reference the 4096rl1 data
			source. (wenger)
			(Fixed by wenger, 3/19/03.)

020 4/9/03	FIXED?	Peptide-cgi specific html files don't work for Dimitri
			in Konquerer (may be JavaScript problems). (wenger/
			dmaziuk)
			(Check after install of new version.)

021 9/11/03	FIXED	Processing PDB files erases summary HTML file!
			(wenger)
			(Fixed by wenger, 9/12/03.)

022 9/12/03	FIXED	S2d tries to process all associated DB files as
			PDB files, even if they aren't PDB files (at least
			in vis server mode). (wenger)
			(Fixed by wenger, 9/12/03.)

023 9/17/03	NB	Decision of whether to use cache doesn't work right
			for visualization server mode. (wenger)

024 10/30/03	OPEN	Set_modes times out if do_csr.bat times out(!).
			(wenger)

025 11/26/03	FIXED	Processing bmr4096.str in visualization server mode
			doesn't work because the 3D session file references
			*rl1.dat, which is not generated (see test7).
			(wenger)
			(Fixed by wenger, 1/28/04.)

026 11/26/03	FIXED	Processing bmr4081.str in visualization server mode
			causes errors because the *ac2.dat file is empty
			but the corresponding entry still appears in the
			summary html file (see test8). (wenger)
			(Fixed by wenger, 12/12/03.)

027 1/23/04	KLUDGED	Set_modes doesn't work for vsc script (output
			files in vis_server subdirectories). (wenger)

028 3/1/04	FIXED	Unrecognized amino acid abbreviation in PDB file
			prevents generation of atomic coordinate
			visualization. (dmaziuk/wenger)
			(See test14.)
			(Fixed by wenger, 3/3/04.)

029 3/2/04	OPEN	Atomic coordinate processing needs to deal correctly
			with entries that contain things like RNA in addition
			to a protein (see BMRB 4867/PDB 1fje). (wenger)

030 3/3/04	FIXED	In Jafar, the error and warning files do not work
			right.  All messages get appended to a single file,
			instead of a separate file for each run (because
			of static variables).  (zsolt/wenger)
			(Fixed by wenger, 3/4/04.)

031 3/3/04	NLR	In Jafar (both at NMRFAM and BMRB), files generated
			by s2d have timestamps about 15 minutes in the
			past. (zsolt/wenger)

032 6/3/04	OPEN	S2DWarning.removeLogFile() and S2DError.removeLogFile()
			should actually *rename* the old log file if anything
			has been written to it, so we don't lose messages that
			happened before the name or bmrb id was set. (wenger)

033 10/20/04	OPEN	If you run s2d with the -file flag instead of -bmrbid,
			and do_pdb of 1, the link to generate the 3D
			structure doesn't work.  (For example, run test17
			and try to follow the link for 1NGL.) (wenger)

034 2/9/05	OPEN	H's don't show up in color print mode (white on a
			white background). (wenger)

035 3/11/05	OPEN	4081 residue 3 has HD1 and HD2, but not the individual
			atoms within those groups.  The Peptide-CGI code
			doesn't really handle that -- should it? (wenger)

036 4/22/05	OPEN	4103 and 4104 fail -- fix them and add them to automated
			test script. (wenger)

037 5/12/05	OPEN	ensureResidueList() fails for entries that have
			2 or more entities and no chem shifts (try entry
			4970 or 5153 to reproduce). (wenger)

038 5/12/05	OPEN	Coordinate visualizations may not be correct for
			entries with 2 or more entities (try entry
			4177 to reproduce, also try 5246/1K3M). (wenger)
			(At least part of the problem is getting the
			correct residue list hooked into the coordinate
			visualization.)

039 5/13/05	OPEN	4835 fails because what's expected to be three-
			letter residue list has one-letter codes. (wenger)

040 5/13/05	FIXED	Processing totally fails for entries that have
			2 or more entities and no chem shifts (try entry
			4970 or 5153 to reproduce). (wenger)
			(See also 037.)
			(Fixed by wenger, 5/13/05.)

041 5/13/05	OPEN	Checking PDB residue counts may not work for
			multiple entities (see TEMP note in
			S2DNmrStarIfc.getPdbIdsFromMonoPoly(). (wenger)

042 5/13/05	FIXED	Unrecognized amino acid abbreviation prevents
			generation of ambiguity visualization. (wenger)
			(See test29.)
			(Fixed by wenger, 3/3/04.)

043 7/26/05	OPEN	If the same PDB ID is listed in both upper- and
			lower-case, both versions appear separately in
			the list of coordinate visualizations.  (jurgenfd/
			wenger)

044 9/14/05	OPEN	If we retry processing because of insufficient memory,
			the error and warning files don't get properly updated
			because the writers need to create them from scratch,
			and they don't get deleted. (wenger)

045 9/20/05	FIXED	In 3D visualizations (and probably Pistachio and
			ambiguity), moving the cursor in the data view
			should not change that view's Y axis range (which
			it sometimes does).  (elu/wenger)
			(Fixed by wenger, 10/7/05.)

046 10/5/05	OPEN	Test33 and test34 don't work with an *installed*
			peptide-cgi (because we don't have
			session_dir/.unreleased and html_unreleased).
			(wenger)

047 10/7/05	FIXED	Do 'home' (5) on data value views in 3D (or ambiguity
			or Pistachio) visualization, you cycle through three
			different filter settings (and in one the piled views
			don't all have the same filters!!!!). (wenger)
			(Fixed by wenger, 10/7/05.)

048 1/18/06	NB	If LACS level is 1, Peptide-CGI produces LACS links
			in the summary page even if it wasn't able to
			get the LACS data. (wenger)
			(I was wrong about this.)

049 1/18/06	FIXED	Consensus CSI calculations are incorrect -- based
			on HA, C, CA deltashifts instead of CSIs (see
			Eldon's email of 060113). (wenger)
			(Fixed by wenger, 1/24/06.)

050 9/22/06	OPEN	The title of specific html pages should be based
			on the *long* name instead of the short/regular
			name (e.g., for 4096 it should be 4096/4038 instead
			of just 4096). (wenger)

051 1/4/07	OPEN	Chemical shift reference links show up even if
			an entry has no chemical shifts(!) (see entry
			5153). (wenger)

052 7/26/06	OPEN	X axis label in csr3 session comes up poor quality
			(at least at BMRB); probably needs different size,
			or to be drawn on the client side, or something like
			that. (wenger)

053 5/9/07	FIXED	Angle brackets in Peptide-CGI output seem to goof
			up display of error messages in Firefox (at least),
			even though we're using the <pre> tag. (wenger)
			(Fixed by wenger, 5/9/07.)

054 5/9/07	FIXED	In UVD mode, summary html page has "Title:" line
			with blank title. (maziuk/wenger)
			(Fixed by wenger, 5/9/07.)

055 5/10/07	FIXED	UVD help file links point to the wrong place.
			(maziuk/wenger)
			(Fixed by wenger, 5/11/07.)

056 11/15/07	OPEN	Could file name collision happen in CSR files if
			there are over 9 sets of CSR data? (wenger)

057 12/20/07	OPEN	If ChemShift fails (as opposed to not running), it
			should not get re-run if the user re-clicks the
			appropriate link in the summary html page. (wenger)

058 12/28/07	NB	Chemical shift data in 7013 doesn't get processed.
			(dimitri/wenger)
			(Caused by residue count conflicting with residue
			list.)

059 1/25/08	FIXED	Problem with data value cursor in 3D visualizations
			(see DEVise bug 956).  (miron/wenger)
			(Fixed by wenger, 1/25/08, in 11.2.2.)


060 2/25/08	OPEN	3D visualization help links (e.g., "data view")
			jump to confusing points on the page (solely tied
			to text, not screendumps). (elu/wenger)

061 4/3/08	OPEN	For 4001 (and probably other entries with lots of
			save frames) the text in the data select view is
			too compressed (in 3D visualizatiosn). (elu/wenger)

062 6/4/08	OPEN	Get rid of "null"s in relaxation table for 5996 in
			new summary page. (wenger)

063 6/4/08	OPEN	Get rid of "processing may take several minutes"
			in coordinate links in new summary page if we've
			already processed coordinates. (wenger)

064 6/26/08	OPEN	Highlighting of 3D residues from selection in data
			view fails for 4970 (appears to be related to the
			fact that no 4970rl1.dat file is generated). (wenger)
			(See also 037.)

OPEN = problem/bug exists and needs to be addressed.
FIXED = bug fixed.
WORK = workaround for bug in place
NB = not (really) a bug.
CD = can't duplicate (reproduce).
DUP = duplicate of another bug
NLR = no longer relevant
