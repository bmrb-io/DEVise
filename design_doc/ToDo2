			DEVise/JavaScreen To-Do List
				$Revision$

...........................................................................
SECTION 01 (DEVise, GUI)
Number Date	Status  Pri
------ --------	------	---
01.001 09/10/01	OPEN	?
Grids on zoom boxes. (wavelet)

01.002 ?	DONE?	?
Warn when closing session if there are changes other than cursor moves.

01.003 10/1/02	OPEN	?
The print dialog should remember previous values. (kola/wenger)

01.004 4/7/10	OPEN	2
Create GUI to control whether the "All" option is turned on in GAttr
links.

01.005 6/11/13	OPEN	2
Get DEVise to compile with a more recent version of X (e.g., X11R7.4).
(I suspect that the xv stuff may be a problem.)
(wenger)

01.006 6/11/13	OPEN	2
Make sure the xv code incorporated into DEVise is up-to-date (see
patches in http://www.trilon.com/xv/downloads.html).
(wenger)

...........................................................................
SECTION 02 (DEVise, links)
Number Date	Status  Pri
------ --------	------	---
02.001 ?	DONE?	?
Allow multiplicative factor (and offset?) for visual links (specify for
each view).

02.002 4/7/10	DONE	1
Allow "All" option in GAttr links (a value of "All" in the leader data
selects all records in the follower).  (Makes it much easier to set up
cursors that select one of a set of values, or all of the values.)
(Done by wenger, 4/7/10.)

...........................................................................
SECTION 03 (DEVise, cursors)
Number Date	Status  Pri
------ --------	------	---
03.001 11/20/01	OPEN	?
Allow XY cursor with bottom anchored at 0. (wenger)

03.002 7/16/10	~DONE	1
Explicitly define startup cursor size *relative to view visual filter*.
(Miron wants to do this rather than continuing with the current system
of links to other views, etc., used in the BMRB 3D visualizations, for
example.) (miron/wenger)
(Done except for GUI by wenger, 8/31/10.)

03.003 7/16/10	~DONE	1
Explicitly define cursor size on "update" (e.g., switch of TData)
*relative to view visual filter*.  (Again, for the scheme we've come
up with for cursor behavior in 3D BMRB visualizations, etc.).
(wenger)
(Done except for GUI by wenger, 8/31/10.)

03.004 7/16/10	~DONE	1
Have option (explicitly enabled) to "remember" cursor location for
different TDatas, etc.  (Again, for the scheme we've come
up with for cursor behavior in 3D BMRB visualizations, etc.).
(miron/wenger)
(Done except for GUI by wenger, 8/31/10.)


...........................................................................
SECTION 04 (DEVise, piles and stacks)
Number Date	Status  Pri
------ --------	------	---
04.001 5/13/09	DONE	1
Be able to exclude a given view from drill-down in a pile (needed to
fix Peptide-CGI bug 071). (wenger)
(Fixed by wenger, 5/15/09.)

...........................................................................
SECTION 05 (DEVise, views)
Number Date	Status  Pri
------ --------	------	---
05.001 9/10/01	OPEN	?
Allow 2 X axes per view (top and bottom). (wavelet)

05.002 4/4/13	OPEN	?
Allow relative margins for home settings. (wenger)

05.003 10/01/14 OPEN	4
Add modulus to mapping expressions.

05.004 12/4/14	OPEN	2
Have an option to have symbols sized by pixels rather than data units
(so symbols stay the same size/shape as you zoom).  (Maybe have negative
value for size or something.) (wlee44/wenger)

...........................................................................
SECTION 06 (DEVise, data sources)
Number Date	Status  Pri
------ --------	------	---
06.001 2/18/13	OPEN	?
Make a test session that has embedded data source definitions.
(wenger)

...........................................................................
SECTION 07 (DEVise, JavaScreen support)
Number Date	Status  Pri
------ --------	------	---
07.001 ?	DONE?	?
JavaScreen: need to clean up temporary session files.

07.002 1/21/11	OPEN	2
Add Jmol commands to the session postscripts, so that things like
setting Jmol to wireframe mode for restraints is done in the session
as opposed to by special-case code in the JavaScreen.  (Obviously, this
will need some changes in the JS itself, too.) (miron/wenger)

07.003 3/20/13	OPEN	3
Add info about the visual filter, and the number of records included
vs. the total, to data download files.

...........................................................................
SECTION 08 (DEVise, misc.)
Number Date	Status  Pri
------ --------	------	---
08.001 11/14/00	OPEN	?
Should API_CMD, etc., have "unusual" values, so other things are not so
easily confused with them? Also, always check for a valid value when
receiving a command? (wenger)

08.002 10/1/02	OPEN	?
When printing to GIFs, we should either deal correctly with parts
of windows being obscured, or at least warn the user that they should
raise all of the windows before printing. (wenger)

08.003 5/28/03	DONE?	3
Eliminate all dependencies on having /p/devise for a DEVise installation.
(wenger)

08.004 2/18/13	DONE	?
Add a test session with a session postscript.  (wenger)
(Done by wenger, 2/19/13.)

08.005 10/31/13	ACTIVE	3
Change C-style casts to C++-style (static_cast, dynamic_cast, etc.).
(wenger)

...........................................................................
SECTION 09 (JavaScreen, GUI)
Number Date	Status  Pri
------ --------	------	---
09.001 09/10/01	DONE	?
JavaScreen: X-only zoom. (various)

09.002 09/10/01	DONE	?
JavaScreen: toolbars. (amos/wenger)

09.003 09/10/01	ACTIVE	?
JavaScreen: integrated keyboard help. (wenger)

09.004 09/10/01	OPEN	?
JavaScreen: visual filter dialog. (wenger)

09.005 09/10/01	OPEN	?
JavaScreen: session-programmable buttons. (wenger)

09.006 09/10/01	OPEN	?
JavaScreen: more advanced session selection.  (miron)

09.007 09/10/01	OPEN	?
JavaScreen: change some buttons to menus. (wenger)

09.008 12/19/01	OPEN	?
The JavaScreen should have an option to display the Y value of the bar
the mouse is on, rather than the actual Y location of the mouse, as
the mouse location. (jm/wenger)

09.009 5/29/03	DONE	1
Add a link to email to devise-support to all JS pages and, especially,
help pages. (wenger)
(Done by wenger, 5/29/03.)

09.010 5/4/02	PARTLY DONE	3 (4/30/12: phase 1 is done)
Be able to save data from the drill-down dialog. (BMRB advisory board)
Maybe generate a saveable html page. (miron)
Note: this has changed into saving all data for the view, not just
what's in the drill-down dialog.
Phase 1: save records in visual filter, all columns.  Create a temporary
file, redirect the user's browser to that file (in a new tab).
Phase 2: select whether you want all records or just those in the
visual filter; add stuff to mappings to specify which columns to save.
Maybe also allow the user to input their email address and have the
data mailed to them.  Also add a description to each view that's printed
as a comment in the download file.

09.011 5/4/02	ACTIVE	3
Be able to print from the JavaScreen.  We probably need to generate
a printer-friendly page, with three options: 1. colors as-is; 2.
white background, colored data; 3. white background, black data.
(BMRB advisory board)

09.012 6/9/04	OPEN	3
Be able to click on multiple places, and get a single drill-down dialog
showing the results of all of them. (elu/wenger)

09.013 9/28/09	OPEN	2
Have a "cursor draw" toolbar mode -- if you're in that mode, you can
draw a rubberband line in a view, and any cursors in that view will
be moved and resized to match the rubberband line, without having to
grab an existing part of the cursor. (wenger)

09.014 11/13/09	OPEN	3
Be able to change the drill-down location without dismissing the drill-
down dialog -- just click in a new place and have the dialog update.
(wenger)

09.015 11/13/09	OPEN	1
Add an option to the JavaScreen to automatically refresh the data at
a user-configurable rate.  (In other words, every n seconds, have the
DEVised re-read all of the data for a session.) (miron)

09.016 11/17/09 DONE	1
Add links to the youtube videos in the JS help menu (once they're released).
(wenger)
(Done by wenger ?/?/09.)

09.017 11/20/09	OPEN	?
Implement an "undo" function.  (Would also require changes on the server.)
(schulte/wenger)

09.018 1/6/10	DONE	2
Make JavaScreen resizing able to work while a session is open (the
JSPoP would have to force the devised to do a checkpoint). (elu/wenger)
(Done by wenger, 7/?/10.)

09.019 1/6/10	DONE	3
Have JavaScreen menu options to enlarge and reduce the window size
by a fixed percentage. (wenger)
(Done by wenger, 7/1/10.)

09.020 7/16/10	OPEN	4
Allow "hidden" views in the JavaScreen.  (Maybe with stacks?)  The idea
would be that some "control" views could be hidden, but that you could
view a "read-only" version of the view with some kind of mouse click.
(The DEVised would send the view image to the JS, but the JS wouldn't
display it.)  (Miron proposed this idea as part of allowing selection
on more than one data cursor in BMRB 3D visualizations.) (miron/wenger)

09.021 7/22/10	OPEN	4
Have a "hand mode", where dragging with the mouse would drag the data
within the visual filter (like dragging works on google maps). (wenger)

09.022 7/22/10	OPEN	4
Have a "cursor move" mode, where dragging with the mouse can only move
a cursor, not change the visual filter. (wenger)

09.023 7/28/10	OPEN	4
Allow an image to be shown in the drill-down dialog.

09.024 9/30/10	OPEN	3
Have a dialog that allows a user to explicitly set the dimensions of
a cursor. (wenger)

09.025 10/29/10	OPEN	3
Add mouseover capability, at least for views that contain text that's
drawn on the client side. (wenger)

09.026 11/16/10	DONE	1
Add recognition of the new BMRB two-entry visualizations to the session-
opening GUI. (wenger)
(Done by wenger in 5.13.4, 2/10/11)

09.027 2/4/11	OPEN	3
Add some additional Jmol-related menu options, such as turning ribbons
on and off while still displaying atoms.

09.028 2/10/11	OPEN	2
Display the name of the currently-open session (with the name as it's
shown in the session opening dialog, not just the "raw" file name).
(wenger)

09.029 1/17/12	OPEN	1
Clean up JavaScreen html pages (collab.html, collabf.html, keyboard.html,
maybe others) to match new color scheme/layout of BMRB visualization
pages. (wenger)

09.030 7/15/14	OPEN	4
Use j2js to convert the JavaScreen client code to javascript.  (Probably 
at least try this out enough to see if it's practical.) (wedell/elu/wenger)

09.031 11/24/14	OPEN	2
Move the "Restart" functionality out of the session menu into a button
(maybe with an icon like a browser reload button).  (gabrielc/wenger)

09.032 11/24/14	OPEN	3
Add "forward"/"back" buttons like web browsers have.  (Need to think about
how this would work -- what would the "steps" be?  But it would be great
to have this functionality.)  (gabrielc/wenger)

09.033 11/24/14	OPEN	3
Remove "DEVise" in mouseover descriptions of cursor modes -- confusing.
(gabrielc/wenger)

09.034 11/24/14	OPEN	4
Session restart should maybe reset cursor mode to default. (gabrielc/
wenger)

09.035 12/4/14	OPEN	2
Have a cursor mode where dragging pans instead of zooming.  (wlee44/wenger)
(Same as 09.021.)

09.036 12/4/14	OPEN	3
Show cursor mode at the bottom of the JavaScreen.  (wlee44/wenger)

09.037 12/4/14	OPEN	3
Be able to zoom in/out with mouse wheel.  (wlee44/wenger)

09.038 12/4/14	OPEN	4
Add a button in the JavaScreen that sends your browser to the
visualization server page.  (wlee44/wenger)

09.039 4/17/15	OPEN	2
Replace at least some "control views" in visualizations with pull-down
menus, etc.  (Also see BMRB project 1.32 in the 2013 list.)
We'd like to be able to replace some of the "selection views"
with pull-down menus; and we'd also like to allow the user to make
multiple, discontinuous, selections.

09.040 6/18/15	OPEN	3
Make buttons that show menus (Session, View, Help) visually distinct
from buttons that don't (Stop). (wenger)

...........................................................................
SECTION 10 (JavaScreen, JSPoP)
Number Date	Status  Pri
------ --------	------	---
10.001 ?	DONE?	?
Change the JSPoP so that collaboration clients have a DEViseClient object.

10.002 ?	DONE?	?
JavaScreen: initiate collaboration with explicit commands, not reconnection
with "magic" flag values.

10.003 7/2/02	ACTIVE	2
Allow switching of collaboration leaders, collaboration entity still exists
if leader goes away, etc.

10.004 7/2/02	ACTIVE	2
Preserve JSPoP status (including collaboration) across restarts. (miron)

10.005 2/8/02	DONE?	?
Automatic enabling/initiation of collaboration. (miron)

10.006 6/9/04	OPEN	?
Allow switching of collaboration leaders. (bmrb/wenger)

10.007 2/28/13	OPEN	?
Change things to just use ps (or else /proc) instead of the *_pid*
files.  (Probably have some kind of configuration for the ps arguments,
and what to look for in the output.) (wenger)

10.008 11/14/14	OPEN	3
JSPoP should log the java version to the jspop.out file.

...........................................................................
SECTION 11 (JavaScreen, JSS)
Number Date	Status  Pri
------ --------	------	---

...........................................................................
SECTION 12 (JavaScreen, communication)
Number Date	Status  Pri
------ --------	------	---
12.001 09/10/01	DONE?	1
JavaScreen: recovery from network disconnection. (miron)

12.002 11/30/01	OPEN	?
JS communications protocols should probably have different versions in
each direction. (wenger)

12.003 11/14/00	OPEN	?
The JavaScreen should probably quit after it gets a certain number of
socket write errors. (wenger)

12.004 3/26/14	OPEN	2
We should have a better way of defining which ports the JS uses for
its sockets.  (For example, we might want to use different ports on
one site than on another.)  Right now it's really a pain because the
port number is hard-coded in to the html files, and the ports+files
script. (wenger)

12.005 4/28/15	OPEN	2
The "test" JavaScreen installation at CS should use a separate
CGI script from the "normal" installation. (wenger)
(Note:  The part of this that's more work is getting the html files
properly updated with the right path to the script.)

...........................................................................
SECTION 13 (JavaScreen, misc.)
Number Date	Status  Pri
------ --------	------	---
13.001 ?	OPEN	?
Have an option to force the session's aspect ratio to be preserved in
the JavaScreen.

13.002 ?	DONE	?
JavaScreen:Time out and exit on the client side if the user has gone out
of the appropriate web page for a given amount of time (so we don't have
loads of extra JS clients in the browser).

13.003 ?	OPEN?	?
JavaScreen: Allow multiple levels of child views.

13.004 8/9/11	OPEN	4
Make use of Java enums.

13.005 11/27/12	OPEN	3
Clean up JavaScreen html pages (remove deprecated tags like "center"
and "name", run through w3c validator, etc. (wenger)

13.006 8/3/14	DONE	1
JavaScreen usage messages should report usage by category (e.g., histograms,
chemical shift deltas, LACS, etc.). (elu/wenger)
(Done by wenger, 8/?/14)

13.007 8/8/14	DONE	2
Gather more information on JavaScreen usage -- how many actions do users
perform, how long between session open and last action on that session,
etc. (miron/wenger)
(Done by wenger, 8/27/14)

13.008 8/27/14	OPEN	2
Change get_stats to take an argument for whether to report all or "real"
stats; then cron job can run it once each way. (wenger)

13.009 10/17/14	OPEN	2
We should have a better way to set defaults in the JavaScreen client.
(For example, to change the default communication mode from socket to
CGI, I just had to release a new version of the client with that change
compiled in.  The only other alternative would have been to release
a new version of Peptide-CGI, that changed the defaults in the html
files, and to change all of the other html files.)  I think there's a
way in Java for an applet to get a file from the same directory from
which the jar file was loaded -- if that's true, we could put a little
config file in that directory.  The individual html file should probably
still be able to override things from that config file.
(Also see 12.004.)

13.010 10/17/14	OPEN	1
Have the browser itself give an error message if the JavaScreen client
fails (e.g., with socket problems with Java 1.8.). (miron/wenger)

13.011 12/1/14	DONE	2
Set up test installation at CS to use a different set of schema files than
the regular installation uses. (wenger)  (141222:  Also session files.)
(141230:  Also data, palette files.)
(Done by wenger, 12/30/14)

...........................................................................
SECTION 14 (release/distribution)
Number Date	Status  Pri
------ --------	------	---
14.001 ?	OPEN	5
Combine bin_arch and dyn_lib_arch in release/distribution.

14.002	131105	DONE	1
Sign jar files for JavaScreen/Jmol.
(Done by wenger, 12/13/13.)

14.003 131216	OPEN	3
Release_how_to needs lots of updating.  Probably needs to be split out
into separate documents (or at least sections) for DEVise itself and the
JavaScreen; also information about doing a JavaScreen client-only release
(in other words, a release where only client-side code has changed since
the last release).  (Also, the currently-documented procedure doesn't
mesh very well with testing things with the Peptide-CGI release tests.)

14.004 140514	DONE	1
Add timestamp to jar files (see
http://docs.oracle.com/javase/7/docs/technotes/guides/security/time-of-signing.html).
(Done by wenger, 5/14/14.)

14.005 140825	OPEN	4
Make a JavaScreen install target to do a server-only install. (wenger)

(add stuff from old to-do list?)
(add stuff from my to-do list)

* Status:
OPEN = item has not yet been addressed
ACTIVE = item is being addressed
DONE = item has been fully addressed
WORK = workaround for in place
DUP = duplicate of another item
NLR = no longer relevant
POST = postponed

* Priority:
? = not yet prioritized
1 = must be done soon
2 = must be done
3 = should be done
4 = maybe should be done
5 = should not be done
