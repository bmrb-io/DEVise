<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>BMRB visualization software overview</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-11">
    <META name="Author" content="wenger@cs.wisc.edu (Kent Wenger)">
    <META name="Description" content="BMRB internal website">
    <link REL="stylesheet" TYPE="text/css" HREF="/stylesheets/main.css" TITLE="main stylesheet">
</HEAD>
<BODY>

<center><h2>
BMRB visualization software overview
</h2></center>


<p>TEMPTEMP -- document Bugs and Todo files</p>
<p>TEMPTEMP -- document version history files</p>

<p>TEMPTEMP -- say something about DEVised/Xvfb in here</p>
<p>TEMPTEMP -- what goes wrong?</p>
<p>TEMPTEMP -- single points of failure</p>
<p>TEMPTEMP -- put a note somewhere about manually killing Xvfb and restarting the JSPoPs</p>
<p>TEMPTEMP -- make sure there's a note somewhere about matching the DEVise and JS versions (at least the same protocol version) and installing them together if necessary</p>

<center><h3>
Components
</h3></center>
<p>
The BMRB data visualization system consists of the following four
components:
</p>
<ul>
<li>DEVise
<li>JavaScreen
<li>Peptide-CGI
<li>ChemShift
</ul>

<p>
<b>DEVise</b> is an interactive visualization tool that lets users easily
browse visual presentations of large tabular datasets.  However, DEVise
itself is based on the X Windows system, so it is not web-compatible.
Also, creating new visualizations in DEVise is not as easy as we had
initially hoped.  Therefore, we have combined DEVise with other pieces
of software to make it useful as a web-based visualization tool.
</p>

<p>
DEVise basically enables data records to get translated to symbols
that are displayed on the screen (in what we call a "view").  The
power of DEVise comes mainly from interconnections between various
views.  (For more details on this, see the paper
<a href="http://pages.cs.wisc.edu/~devise/devise/spie2000_hongyu.ps.gz">
"DEVise and the JavaScreen: Visualization on the Web"</a>.)

data sesssion schema files

</p>

<p>
For the point of this document, the most important thing is that 
a DEVise visualization consists of a session file, and a number of
associated data and schema files.  The session file basically defines
how the data is displayed, and the connections between views.  Data
files are ASCII (in the case of all BMRB data) files that have a
uniform format for all records within a given file.  Schema files
specify the formats of the data files.
</p>

<p>
There is more detailed information about DEVise at the
<a href="http://pages.cs.wisc.edu/~devise">DEVise home page</a>.
</p>


<p>
The <b>JavaScreen</b> enables DEVise to operate on the web.  The
JavaScreen setup consists of three main parts: the JavaScreen client,
the JavaScreen Point of Presence (JSPoP) and one or more DEVise
servers.
</p>

<p>
<a href="js_commands.txt">JavaScreen commands</a>
</p>

<p>
<a href="js_client_doc.txt">JavaScreen client concepts</a>
</p>

<p>
<a href="jspop_doc.txt">JSPoP concepts</a>
</p>

<p>
<a href="jss_doc.txt">JSS concepts</a>
</p>

<p>
<b>Peptide-CGI</b> is responsible for translating a BMRB entry into
a set of DEVise visualizations.
uses STARlibJ (case?)
peptide-cgi creates data & sessions for devise & html; has static schema files
histograms
vis server
</p>

<p>
<a href="peptide-cgi_concepts.txt">Peptide-CGI concepts</a>
</p>

<p>
<b>ChemShift</b>...
uses NMRPipe, MOLMOL
how server works
file to run it (what is in the file?)
</p>


data flow, make_view, NMR browser, etc.




<center><h3>
Control and Data Flow
</h3></center>


when the user clicks "Data Visualizations" in NMR browser, what happens?
explain special cases for coordinates, chem shift
cache
make_view







<center><h3>
Diagrams
</h3></center>

<p>
<a href="dataflow_overview.jpg">Data flow overview</a>
</p>

<p>
<a href="peptide-cgi_dataflow.jpg">Peptide-CGI data flow</a>
</p>

<p>
<a href="chem_shift_dataflow.jpg">ChemShift data flow</a>
</p>

<p>
<a href="JavaScreen.jpg">JavaScreen components</a>
</p>

<p>
<a href="new_visualization.jpg">Procedure for creating a new
visualization</a>
</p>


<center><h3>
Logistics
</h3></center>

<h4>
DEVise
</h4>

<table border="0" cellspacing="2" cellpadding="2">
  <tr>
    <td>CVS repository:</td>
    <td>/p/devise/cvs at computer sciences</td>
  </tr>
  <tr>
    <td>Programming language:</td>
    <td>C++ (most recently compiled with gcc 4.3.0)</td>
  </tr>
  <tr>
    <td>Development installation:</td>
    <td>various workspaces at computer sciences</td>
  </tr>
  <tr>
    <td>Quality assurance installation:</td>
    <td>/afs/cs.wisc.edu/p/devise/release/</td>
  </tr>
  <tr>
    <td>Production installations:</td>
    <td>moray.bmrb.wisc.edu:/home/web/devise/devise_install;
      swordfish.bmrb.wisc.edu:/website/devise;
      bmrbweb.protein.osaka-u.ac.jp:/bmrb/devise;
      bmrb.postgenomicnmr.net:/bmrb/devise</td>
  </tr>
</table>

<h4>
JavaScreen
</h4>
<table border="0" cellspacing="2" cellpadding="2">
  <tr>
    <td>CVS repository:</td>
    <td>/p/devise/cvs at computer sciences</td>
  </tr>
  <tr>
    <td>Programming language:</td>
    <td>Java (most recently compiled with 1.6.0_07; generates 1.3
      class files)</td>
  </tr>
  <tr>
    <td>Development installation:</td>
    <td>various workspaces at computer sciences</td>
  </tr>
  <tr>
    <td>Quality assurance installation:</td>
    <td>teal.cs.wisc.edu:/scratch/devise/js.regular (see
      Makefile.config.uw_cs</td>
  </tr>
  <tr>
    <td>Production installations:</td>
    <td>moray.bmrb.wisc.edu:/website/devise/js.installed,
      swordfish.bmrb.wisc.edu:/website/devise/js.installed (see
      moray.bmrb.wisc.edu:/home/web/devise/devise_install/JavaScreen-*,
      swordfish.bmrb.wisc.edu:/website/devise/JavaScreen,
      Makefile.config.bmrb_moray);
      bmrbweb.protein.osaka-u.ac.jp:/bmrb/devise_installed/js.installed
      (see bmrbweb.protein.osaka-u.ac.jp:/bmrb/devise/JavaScreen-*,
      Makefile.config.osaka2);
      bmrb.postgenomicnmr.net:/bmrb/devise/installed/js
      (see bmrb.postgenomicnmr.net:/bmrb/devise/JavaScreen-*,
      Makefile.config.florence)</td>
  </tr>
</table>

<h4>
Peptide-CGI
</h4>
<table border="0" cellspacing="2" cellpadding="2">
  <tr>
    <td>CVS repository:</td>
    <td>/p/devise/cvs at computer sciences</td>
  </tr>
  <tr>
    <td>Programming language:</td>
    <td>Java (most recently compiled with 1.6.0_07; generates 1.3
      class files)</td>
  </tr>
  <tr>
    <td>Development installation:</td>
    <td>http://devise.cs.wisc.edu/devise/bmrb_test/bmrb_select.html
      (see Makefile.config.uw_cs_test)</td>
  </tr>
  <tr>
    <td>Quality assurance installation:</td>
    <td>http://devise.cs.wisc.edu/devise/bmrb/bmrb_select.html (see
      Makefile.config.uw_cs_teal)</td>
  </tr>
  <tr>
    <td>Production installations:</td>
    <td>http://www.bmrb.wisc.edu/devise/peptide-cgi/bmrb_select.html
      (see moray.bmrb.wisc.edu:/home/web/devise/devise_install/peptide-cgi_*,
      Makefile.config.bmrb_moray,
      swordfish.bmrb.wisc.edu:/website/devise/peptide-cgi_*,
      Makefile.config.bmrb_swordfish);
      http://bmrb.protein.osaka-u.ac.jp/devise/peptide-cgi/bmrb_select.html
      (see bmrbweb.protein.osaka-u.ac.jp:/bmrb/devise/peptide-cgi_*,
      Makefile.config.osaka2);
      http://bmrb.postgenomicnmr.net/devise/peptide-cgi/bmrb_select.html
      (see bmrb.postgenomicnmr.net:/bmrb/devise/peptide-cgi_*,
      Makefile.config.florence)
      </td>
  </tr>
</table>

<h4>
ChemShift
</h4>
<table border="0" cellspacing="2" cellpadding="2">
  <tr>
    <td>CVS repository:</td>
    <td>/cvsmain at BMRB</td>
  </tr>
  <tr>
    <td>Programming language:</td>
    <td>Java (most recently compiled with 1.5.0_11; generates 1.3
      class files)</td>
  </tr>
  <tr>
    <td>Development installation:</td>
    <td>various workspaces at BMRB</td>
  </tr>
  <tr>
    <td>Quality assurance installation:</td>
    <td></td>
  </tr>
  <tr>
    <td>Production installations:</td>
    <td>moray.bmrb.wisc.edu:/website/devise/ChemShift;
      swordfish.bmrb.wisc.edu:/website/devise/ChemShift;
      bmrbweb.protein.osaka-u.ac.jp:/bmrb/devise_installed/ChemShift</td>
  </tr>
</table>


<P class="datestamp">Last updated <!--#flastmod file="./overview.html" -->
<!-- $Id$ -->
</BODY>
</HTML>
